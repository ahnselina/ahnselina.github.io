---
title: c++ boost状态机简要使用示例
date: 2025-05-06 10:40:58
tags: c++
---

## 简要介绍

Boost.Statechart是Boost库中的一个用于创建状态机的库。它允许我们定义状态、事件和转变，从而实现复杂的状态机行为。以下是一个简单的例子，展示如何使用Boost.Statechart来创建和使用状态机。

```c++
#include <iostream>
#include <boost/statechart/state_machine.hpp>
#include <boost/statechart/simple_state.hpp>
#include <boost/statechart/transition.hpp>
#include <boost/statechart/event.hpp>

namespace sc = boost::statechart;

// 事件定义
struct EvStart : sc::event<EvStart> {};
struct EvStop : sc::event<EvStop> {};

// 前向声明状态机和状态
struct Active;
struct MyStateMachine;

// 状态机定义，初始状态设定为Active
struct MyStateMachine : sc::state_machine<MyStateMachine, Active> {};

// 状态Active的定义和行为
struct Active : sc::simple_state<Active, MyStateMachine>
{
    // 出现状态时的动作
    Active() { std::cout << "Entering Active State\n"; }
    
    // 离开状态时的动作
    ~Active() { std::cout << "Exiting Active State\n"; }

    // 事件处理，EvStop事件使状态机转到Stopped状态
    typedef sc::transition<EvStop, class Stopped> reactions;
};

// 状态Stopped的定义和行为
struct Stopped : sc::simple_state<Stopped, MyStateMachine>
{
    // 出现状态时的动作
    Stopped() { std::cout << "Entering Stopped State\n"; }
    
    // 离开状态时的动作
    ~Stopped() { std::cout << "Exiting Stopped State\n"; }

    // 事件处理，EvStart事件使状态机转回Active状态
    typedef sc::transition<EvStart, Active> reactions;
};

int main()
{
    // 创建状态机实例
    MyStateMachine myMachine;

    // 启动状态机，进入初始状态Active
    myMachine.initiate();

    // 触发EvStop事件，状态机切换到Stopped状态
    myMachine.process_event(EvStop());
    
    // 触发EvStart事件，状态机切换回Active状态
    myMachine.process_event(EvStart());

    return 0;
}
```
## 代码解释

1. 事件定义：
   * `EvStart` 和 `EvStop` 是两个事件，继承自 `sc::event`。

2. 前向声明：
   * 对 `Active` 状态和 `MyStateMachine` 状态机进行前向声明。

3. 状态机定义：
   * `MyStateMachine` 继承自 `sc::state_machine`，其初始状态为 `Active`。

4. 状态定义：
   * `Active` 和 `Stopped` 状态都继承自 `sc::simple_state`。在构造函数和析构函数中分别定义进入和离开状态时的动作。
   * 在 `Active` 状态中，通过 `typedef sc::transition<EvStop, Stopped>` 指定当接收到 `EvStop` 事件时，会转到 `Stopped` 状态。
   * 在 `Stopped` 状态中，通过 `typedef sc::transition<EvStart, Active>` 指定当接收到 `EvStart` 事件时，会转回 `Active` 状态。

5. 主函数：
   * 创建 `MyStateMachine` 实例。
   * 调用 `initiate()` 方法启动状态机，使其进入初始状态 `Active`。
   * 使用 `process_event` 方法处理事件，触发状态转换。

这个例子展示了如何定义和使用一个简单的状态机。通过事件驱动的方式，可以很方便地管理状态和状态之间的转换。如果需要处理更复杂的状态机行为（如层次状态、并行状态等），可以参考Boost.Statechart的文档获取更多信息。


## 更多介绍

Boost 状态图库是一个无需代码生成器就可以快速转换 UML 状态图表伪可执行的 C++ 代码框架。由于几乎支持所有 UML的特性直接转换，故所产生的C++代码十分接近于状态表的原文文字描述。

## 如何阅读参考资料中的官方资料

 该资料内容设计为逐步深入。读者可以从合适位置开始读，直到对于解决你的任务为止。特别地：

* 首先，仅仅有少数几个状态的简单状态机能够通过以下描述合理地实现，[基本主题：秒表](https://www.boost.org/doc/libs/1_45_0/libs/statechart/doc/tutorial.html#BasicTopicsAStopWatch)

* 其次，达到12个状态的大型状态机请参照以下文章：[进阶主题：数码相机](https://www.boost.org/doc/libs/1_45_0/libs/statechart/doc/tutorial.html#IntermediateTopicsADigitalCamera)应该是很有帮助的。

* 最后，用户想要创建更加复杂的状态机，请参照：[高级主题](https://www.boost.org/doc/libs/1_45_0/libs/statechart/doc/tutorial.html#AdvancedTopics)部分。另外，强烈建议阅读[限制条件](https://www.boost.org/doc/libs/1_45_0/libs/statechart/doc/rationale.html#Limitations)章节。

### hello world

我们将用一个最简单的程序开始第一步，以下为状态表：

![图片](data:image/png;base64,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)
该状态图的实现代码如下：

```c++
#include <boost/statechart/state_machine.hpp>
#include <boost/statechart/simple_state.hpp>
#include <iostream>

namespace sc = boost::statechart;

// 此处定义为strcut 是为了避免所有成员都要添加 public关键字，如果你不介意，也可以使用class。

// 我们需要提前申明初始化状态，因为其必须在定义状态机的地方定义。
struct Greeting;

// Boost.Statechart 重度使用模板。子类必须总是将该初始化状态作为第一参数传递给基类
// 当状态机进行初始化时，必须被通知进入哪个状态这就是为什么 Greeting 作为第二个参数传递的原因。
struct Machine : sc::state_machine< Machine, Greeting > {};

//对于每个状态都必须指定其所属状态机以及其在状态表中的位置，
//两者是通过simple_state<>的参数来指定。
//因为我们拥有简单的状态机，故其上下文也是状态机。
//相应的，Machine 被当作上下文作为第二参数传递（上下文参数在下文将会进一步说明）。

struct Greeting : sc::simple_state< Greeting, Machine >
{
  // 不论何时状态机进入一个状态，就会创建一个相应的状态类的对象。
  //该对象将保持只要该状态机保持在此状态。最后，在此状态结束时该对象将销毁。
  //因此，进入动作通过定义构造函数来完成，出口动作通过定义析构函数来实现。
  Greeting() { std::cout << "Hello World!\n"; } // entry
  ~Greeting() { std::cout << "Bye Bye World!\n"; } // exit
};

int main()
{
  Machine myMachine;
  // myMachine 在构造函数调用后并没有运行，我们需要通过调用 initiate() 运行该状态机，
  //这将触发 初始状态 Greeting 的构造
  myMachine.initiate();
  // 当离开 main()时，myMachine 的析构将导致当前激活状态被析构
  return 0;
}
```


 执行此程序输出 Hello World! 和 Bye Bye World!


## 参考资料

[The Boost Statechart Library](https://www.boost.org/doc/libs/1_45_0/libs/statechart/doc/tutorial.html)

[boost状态图库](https://www.cnblogs.com/chendeqiang/p/12885096.html)

[boost状态机简介](https://www.jianshu.com/p/ed74d81b9b21)
