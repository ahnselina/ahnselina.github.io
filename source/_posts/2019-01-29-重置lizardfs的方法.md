---
title: 重置lizardfs的方法
date: 2019-01-29 22:17:18
categories: 
- 分布式存储
tags: [LizardFS, lizardfs, 重置, 问题定位]
---

最近一直在使用lizardfs这个开源的分布式文件系统，经常会遇到各种问题，打算先遇到一个问题开一篇文章解决，后面再总结，来个使用lizardfs的常见问题。  
本文介绍一种场景，我们希望清空目前lizardfs集群里面的所有东西，但是又不想重装lizardfs。  
### 不用重装便能重置lizardfs的方法

最简单的办法就是重新创建一个新的metadata文件
在你当前环境的master服务器的元数据目录下（查看mfsmaster.cfg文件的DATA_PATH字段），然后停止master并且创建一个新的空metadata文件通过执行：
```
echo -n "MFSM NEW" > metadata.mfs 
```
随后启动master，这样你的集群就被重置了，所有的chunks都会删除。

注： metadata.mfs默认在/var/lib/mfs/目录下

### 参考文章
[How do I completely reset a cluster?](https://github.com/lizardfs/lizardfs/issues/465) 


